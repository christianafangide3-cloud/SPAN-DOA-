<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GP Forecaster | Splendid's Academy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .glass-panel { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="min-h-screen pb-20">

    <nav class="bg-sky-900 text-white p-4 sticky top-0 z-50 shadow-lg flex justify-between items-center">
        <div class="flex items-center gap-3">
            <a href="dashboard.html" class="text-sky-400 hover:text-white transition"><i class="fas fa-arrow-left"></i></a>
            <h1 class="font-bold text-lg tracking-tight">The Oracle ðŸ”®</h1>
        </div>
        <div class="text-xs font-bold text-sky-400 border border-sky-700 bg-sky-800 px-2 py-1 rounded">V2.0</div>
    </nav>

    <div class="max-w-2xl mx-auto p-6">
        
        <div class="text-center mb-8">
            <h2 class="text-3xl font-extrabold text-slate-800">GP Forecaster</h2>
            <p class="text-slate-500 text-sm">Don't guess. Calculate your fate.</p>
        </div>

        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6">
            <h3 class="font-bold text-slate-800 mb-4 flex items-center gap-2">
                <i class="fas fa-user-graduate text-sky-600"></i> Step 1: Current Standing
            </h3>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label class="text-xs font-bold text-slate-400 uppercase">Current CGPA</label>
                    <input type="number" id="current-cgpa" placeholder="e.g. 3.50" step="0.01" class="w-full p-3 bg-slate-50 rounded-xl border border-slate-200 font-bold text-slate-800 outline-sky-500">
                </div>
                <div>
                    <label class="text-xs font-bold text-slate-400 uppercase">Units Covered</label>
                    <input type="number" id="units-covered" placeholder="e.g. 40" class="w-full p-3 bg-slate-50 rounded-xl border border-slate-200 font-bold text-slate-800 outline-sky-500">
                </div>
            </div>
        </div>

        <div class="bg-gradient-to-r from-sky-600 to-blue-700 rounded-2xl shadow-lg p-6 mb-6 text-white">
            <h3 class="font-bold mb-4 flex items-center gap-2">
                <i class="fas fa-bullseye"></i> Step 2: The Goal
            </h3>
            <div>
                <label class="text-xs font-bold text-sky-200 uppercase">Target CGPA</label>
                <div class="flex items-center gap-4">
                    <input type="number" id="target-cgpa" placeholder="5.00" step="0.01" class="w-full p-3 bg-white/10 rounded-xl border border-white/20 font-bold text-white placeholder-sky-300 outline-white">
                    <div class="text-3xl">ðŸš€</div>
                </div>
                <p class="text-xs text-sky-200 mt-2">Enter the CGPA you want to graduate with.</p>
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-bold text-slate-800 flex items-center gap-2">
                    <i class="fas fa-book text-sky-600"></i> Step 3: This Semester
                </h3>
                <button onclick="addCourseRow()" class="text-xs bg-sky-50 text-sky-600 font-bold px-3 py-1 rounded-lg hover:bg-sky-100 transition">+ Add Course</button>
            </div>
            
            <div id="course-list" class="space-y-3">
                </div>
        </div>

        <button onclick="calculateFate()" class="w-full bg-slate-900 text-white font-bold py-4 rounded-xl shadow-xl shadow-slate-300 hover:bg-slate-800 transition transform hover:-translate-y-1">
            Predict My Results <i class="fas fa-crystal-ball ml-2"></i>
        </button>

        <div id="result-box" class="hidden mt-8 bg-sky-50 border-2 border-sky-200 rounded-2xl p-6 text-center animate-bounce-in">
            <h3 class="text-xl font-bold text-sky-900 mb-2">The Oracle Speaks ðŸ”®</h3>
            <p id="prediction-text" class="text-slate-700 leading-relaxed"></p>
        </div>

    </div>

    <script>
        // Initial setup
        window.onload = function() {
            addCourseRow(); // Add first row
            addCourseRow(); // Add second row
            addCourseRow(); // Add third row
        };

        function addCourseRow() {
            const container = document.getElementById('course-list');
            const div = document.createElement('div');
            div.className = "flex gap-2 items-center";
            div.innerHTML = `
                <input type="text" placeholder="Course (e.g. PHS 211)" class="flex-1 p-3 bg-slate-50 rounded-lg border border-slate-200 text-sm font-bold text-slate-700 outline-sky-500">
                <select class="w-24 p-3 bg-slate-50 rounded-lg border border-slate-200 text-sm font-bold text-slate-700 outline-sky-500 course-unit">
                    <option value="3">3 Units</option>
                    <option value="2">2 Units</option>
                    <option value="1">1 Unit</option>
                    <option value="4">4 Units</option>
                </select>
            `;
            container.appendChild(div);
        }

        function calculateFate() {
            const currentCGPA = parseFloat(document.getElementById('current-cgpa').value) || 0;
            const unitsCovered = parseFloat(document.getElementById('units-covered').value) || 0;
            const targetCGPA = parseFloat(document.getElementById('target-cgpa').value);

            if (!targetCGPA) {
                alert("Please enter a Target CGPA!");
                return;
            }

            // Get current semester units
            const unitInputs = document.querySelectorAll('.course-unit');
            let semesterUnits = 0;
            unitInputs.forEach(input => semesterUnits += parseInt(input.value));

            // MATH LOGIC:
            // (CurrentPoints + RequiredPoints) / (TotalUnits) = TargetCGPA
            // CurrentPoints = CurrentCGPA * UnitsCovered
            // TotalUnits = UnitsCovered + SemesterUnits
            
            const currentPoints = currentCGPA * unitsCovered;
            const totalUnits = unitsCovered + semesterUnits;
            const requiredTotalPoints = targetCGPA * totalUnits;
            const pointsNeeded = requiredTotalPoints - currentPoints;
            const requiredGPA = pointsNeeded / semesterUnits;

            const resultBox = document.getElementById('result-box');
            const resultText = document.getElementById('prediction-text');
            resultBox.classList.remove('hidden');

            if (requiredGPA > 5.0) {
                resultText.innerHTML = `
                    <span class="text-red-600 font-bold text-lg">IMPOSSIBLE MISSION ðŸš«</span><br>
                    To hit ${targetCGPA}, you would need a GPA of <strong class="text-red-600">${requiredGPA.toFixed(2)}</strong> this semester.<br>
                    Even 5.0 is not enough. Try lowering your target slightly or taking more units.
                `;
            } else if (requiredGPA <= 0) {
                 resultText.innerHTML = `
                    <span class="text-emerald-600 font-bold text-lg">ALREADY SECURED âœ…</span><br>
                    You have already banked enough points! Just pass your courses, and you will exceed ${targetCGPA}.
                `;
            } else {
                resultText.innerHTML = `
                    To reach <strong class="text-sky-700">${targetCGPA}</strong>, you need a GPA of:<br>
                    <span class="text-4xl font-extrabold text-sky-600 block my-3">${requiredGPA.toFixed(2)}</span>
                    <span class="text-xs uppercase font-bold text-slate-400">This Semester</span><br><br>
                    Strategy: You need mostly <strong>${getGrade(requiredGPA)}'s</strong> to make this happen.
                `;
            }
        }

        function getGrade(gpa) {
            if(gpa >= 4.5) return "A";
            if(gpa >= 3.5) return "B";
            if(gpa >= 2.5) return "C";
            return "Miracle";
        }
    </script>
</body>
</html>
